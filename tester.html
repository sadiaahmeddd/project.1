<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>API Endpoint Tester</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>body{font-family:system-ui,Arial,sans-serif;margin:16px} textarea{width:100%;height:100px}</style>
</head>
<body>
  <h1>API Endpoint Tester</h1>
  <p><a href="index.html">â†© Back to UI</a> | <a href="docs.html">API Docs</a></p>

  <label>Method:
    <select id="method">
      <option>GET</option>
      <option>HEAD</option>
      <option>POST</option>
    </select>
  </label>

  <label>URL:
    <input id="url" style="width:100%" value="/api/pokemon?type=Fire&limit=3">
  </label>

  <label>Body (JSON):
    <textarea id="body">{ "name":"Testmon", "type":["Normal"] }</textarea>
  </label>

  <button id="run">Send</button>

  <h2>Response</h2>
  <pre id="out"></pre>

  <script>
    const $ = (id) => document.getElementById(id);
    $('run').onclick = async () => {
      const method = $('method').value;
      const url = $('url').value;
      const headers = { Accept: 'application/json' };
      let opts = { method, headers };
      if (method === 'POST') {
        headers['Content-Type'] = 'application/json';
        opts.body = $('body').value;
      }
      const res = await fetch(url, opts);
      const hdrs = [...res.headers.entries()].map(([k,v]) => `${k}: ${v}`).join('\n');
      let body = '';
      try { body = method === 'HEAD' ? '(no body on HEAD)' : JSON.stringify(await res.json(), null, 2); }
      catch { body = '(no JSON body)'; }
      $('out').textContent = `Status: ${res.status}\n${hdrs}\n\n${body}`;
    };
  </script>
</body>
</html>
